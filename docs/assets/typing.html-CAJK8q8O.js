import"./main-Hitiy10-.js";var b=["a","about","all","also","and","as","at","be","because","but","by","can","come","could","day","do","even","find","first","for","from","get","give","go","have","he","her","here","him","his","how","I","if","in","into","it","its","just","know","like","look","make","man","many","me","more","my","new","no","not","now","of","on","one","only","or","other","our","out","people","say","see","she","so","some","take","tell","than","that","the","their","them","then","there","these","they","thing","think","this","those","time","to","two","up","use","very","want","way","we","well","what","when","which","who","will","with","would","year","you","your"],M=["de","la","que","el","en","y","a","los","se","del","las","un","por","con","no","una","su","para","es","al","lo","como","más","o","pero","sus","le","ha","me","si","sin","sobre","este","ya","entre","cuando","todo","esta","ser","son","dos","también","fue","había","era","muy","años","hasta","desde","está","mi","porque","qué","sólo","han","yo","hay","vez","puede","todos","así","nos","ni","parte","tiene","él","uno","donde","bien","tiempo","mismo","ese","ahora","cada","e","vida","otro","después","te","otros","aunque","esa","eso","hace","otra","gobierno","tan","durante","siempre","día","tanto","ella","tres","sí","dijo","sido","gran","país","según","menos"],v="",w=0,W=document.getElementById("language-select"),$=document.getElementById("words-select"),L=document.getElementById("test"),C=document.getElementById("caret"),r=document.getElementById("input"),S=document.getElementById("results-container");W.addEventListener("change",function(){g()});$.addEventListener("change",function(){g()});var E=null,a=null,c=null;function g(){v=W.value,w=parseInt($.value);let e="";if(v=="en")for(let t=0;t<w;t++)e+=b[Math.floor(Math.random()*b.length)]+" ";else if(v=="es")for(let t=0;t<w;t++)e+=M[Math.floor(Math.random()*M.length)]+" ";E=e.split(" ").map(t=>t.split("")),L.innerHTML="";for(let t of E){let l=document.createElement("span");l.classList.add("word");for(let m of t){let i=document.createElement("span");i.classList.add("letter"),i.textContent=m,l.appendChild(i)}let u=document.createElement("span");u.classList.add("letter"),u.textContent=" ",l.appendChild(u),L.appendChild(l)}a=document.getElementsByClassName("word"),c=[];for(let t=0;t<a.length;t++)c.push(a[t].getElementsByClassName("letter"))}var n=0,o=0,d=0,h=0,x=!1,B=[],f=null,I=null;function k(){let s=c[n][o].getBoundingClientRect();C.style.transform=`translate(${s.left}px, ${s.top}px)`}function T(){I=performance.now(),H(),x=!0,C.style.display="none"}function p(e){if(!x){if(r.value="",e.length>1&&(e=e[0]),e==""){k();return}if(f==null&&(f=performance.now()),e=="\b")o>0?o--:n>0&&(a[n].classList.toggle("active",!1),n--,o=a[n].querySelectorAll(".letter").length-1),a[n].classList.toggle("active",!0);else if(e==" "){if(d==0?o>0?a[n].classList.add("correct"):(a[n].classList.add("incorrect"),h+=c[n].length,d+=c[n].length):a[n].classList.add("incorrect"),a[n].classList.toggle("active",!0),B.push(d),d=0,n++,o=0,n==a.length-1){T();return}a[n].classList.toggle("active",!0)}else{let s=c[n];if(o<=s.length-1){let t=s[o];e==t.textContent?t.classList.add("correct"):(t.classList.add("incorrect"),d++,h++),o++}else if(o==s.length-1&&n==a.length-1){T();return}}k()}}function H(){let e=h,s=B.reduce((y,j)=>y+j,0),t=(I-f)/1e3,l=0;for(let y of E)l+=y.length;let u=(l-s)/l*100,m=l/5,i=t/60,F=m/i,P=(m-s)/i;document.getElementById("raw-wpm").textContent=`${F.toFixed(0)}`,document.getElementById("corrected-wpm").textContent=`${P.toFixed(0)}`,document.getElementById("accuracy").textContent=`${u.toFixed(2)}%`,document.getElementById("raw-mistakes").textContent=`${e}`,document.getElementById("corrected-mistakes").textContent=`${s}`,document.getElementById("time-taken").textContent=`${t.toFixed(2)} seconds`,S.style.display="block"}g();p("");r.addEventListener("keydown",function(e){e.key==="Backspace"&&p("\b")});function q(){L.innerHTML="",g(),o=0,n=0,d=0,h=0,B=[],x=!1,f=null,I=null,r.value="",C.style.display="block",k(),r.focus(),a[n].classList.toggle("active",!0),S.style.display="none"}q();document.addEventListener("keydown",function(e){e.key==="Tab"&&(e.preventDefault(),q())});r.addEventListener("compositionend",function(e){p(e.data)});r.addEventListener("input",function(e){e.isComposing||p(r.value)});document.getElementById("test-container").addEventListener("click",function(){r.focus()});
